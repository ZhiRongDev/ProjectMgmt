import{_ as ne,A as re,g as oe,h as de,a as f,r as m,o as u,i as h,w as l,U as X,f as i,t as v,c as p,j as w,F as L,b as t,m as x,e as k,k as I,l as q,v as B,n as M,p as A}from"./index-11db8e1a.js";const ce={data(){return{tab:null,model:null,newList_dialog:!1,Project_WorksOn_dialog:!1,newCard_dialog:{},checkCard_dialog:{},Project:{},edit_target:"",cache:{Task_List_item:{},Task_Card_item:{},Todo_item:{},Comment_item:{},WorksOn_list:[],WorksOn_Email:""},snackbar_msg:"",snackbar:!1}},components:{AppWrapper:re},computed:{...oe(X,["User"]),completedTasks(){return function(s){return s.filter(e=>!e.Todo_Status).length}},remainingTasks(){return function(s){return s.length-this.completedTasks(s)}},filter_Project_WorksOn(){return function(s){return this.Project.Project_WorksOn.filter(e=>!s.some(d=>Object.keys(e).every(r=>e[r]===d[r])))}}},methods:{...de(X,["checkAuth"]),isObjEmpty(s){return Object.keys(s).length===0},clearCache(){let s={Task_List_item:{},Task_Card_item:{},Todo_item:{},Comment_item:{},WorksOn_list:[],WorksOn_Email:""};this.cache=JSON.parse(JSON.stringify(s)),this.edit_target=""},getProject(){let s=this,e=`http://localhost:5001/Project/Content?User_ID=${this.User.User_ID}&Project_ID=${this.$route.query.Project_ID}`;f.get(e).then(function(d){s.Project=d.data.return_data,s.clearCache()}).catch(function(d){s.snackbar_msg=d.response.data,s.snackbar=!0,s.$router.push({path:"/home"})})},set_dialog_status(){let s=this;if(s.Project.Task_List)for(let e=0;e<s.Project.Task_List.length;e++){let d=s.Project.Task_List[e];s.newCard_dialog[d.Task_List_ID]=!1;for(let r=0;r<d.Task_Card.length;r++){let a=d.Task_Card[r];s.checkCard_dialog[a.Task_Card_ID]=!1}}},create_Task_List(s={}){let e=Date.now();s.Task_List_ID=e;let d=this,r=`http://localhost:5001/Task_List?User_ID=${this.User.User_ID}&Project_ID=${this.$route.query.Project_ID}`;f.post(r,s).then(function(a){d.getProject(),d.snackbar_msg=a.data.response,d.snackbar=!0}).catch(function(a){console.log(a),d.snackbar_msg=a.response.data,d.snackbar=!0}),this.clearCache()},create_Task_Card(s={},e=""){let d=Date.now();s.Task_Card_ID=d,s.Task_List_ID=e;let r=this,a=`http://localhost:5001/Task_Card?User_ID=${this.User.User_ID}`;f.post(a,s).then(function(o){r.getProject(),r.snackbar_msg=o.data.response,r.snackbar=!0}).catch(function(o){console.log(o),r.snackbar_msg=o.response.data,r.snackbar=!0}),this.clearCache()},update_Task_List(s="",e={}){let d=this,r=`http://localhost:5001/Task_List?User_ID=${this.User.User_ID}`;f.put(r,e).then(function(a){d.getProject(),s.target&&s.target.blur(),d.snackbar_msg=a.data.response,d.snackbar=!0}).catch(function(a){console.log(a),d.snackbar_msg=a.response.data,d.snackbar=!0}),this.clearCache()},update_Task_Card(s="",e={}){let d=this,r=`http://localhost:5001/Task_Card?User_ID=${this.User.User_ID}`;console.log(s),f.put(r,e).then(function(a){d.getProject(),s.target&&s.target.blur(),d.snackbar_msg=a.data.response,d.snackbar=!0}).catch(function(a){console.log(a),d.snackbar_msg=a.response.data,d.snackbar=!0}),this.clearCache()},update_Todo(s={}){let e=this,d=`http://localhost:5001/Todo?User_ID=${this.User.User_ID}`;f.put(d,s).then(function(r){e.getProject(),e.snackbar_msg=r.data.response,e.snackbar=!0}).catch(function(r){console.log(r),e.snackbar_msg=r.response.data,e.snackbar=!0}),this.clearCache()},delete_Task_List(s){let e=this,d=`http://localhost:5001/Task_List?User_ID=${this.User.User_ID}&Task_List_ID=${s}`;f.delete(d).then(function(r){e.getProject(),e.snackbar_msg=r.data.response,e.snackbar=!0}).catch(function(r){console.log(r),e.snackbar_msg=r.response.data,e.snackbar=!0})},delete_Task_Card(s){console.log(s);let e=this,d=`http://localhost:5001/Task_Card?User_ID=${this.User.User_ID}&Task_Card_ID=${s}`;f.delete(d).then(function(r){e.getProject(),e.snackbar_msg=r.data.response,e.snackbar=!0}).catch(function(r){console.log(r),e.snackbar_msg=r.response.data,e.snackbar=!0})},delete_Project_WorksOn(s){console.log(s);let e=this,d=`http://localhost:5001/WorksOn/Project_WorksOn?User_ID=${this.User.User_ID}&Project_ID=${this.$route.query.Project_ID}&Worker_ID=${s}`;f.delete(d).then(function(r){e.getProject(),e.snackbar_msg=r.data.response,e.snackbar=!0}).catch(function(r){console.log(r),e.snackbar_msg=r.response.data,e.snackbar=!0})},delete_Task_WorksOn(s,e){console.log(s);let d=this,r=`http://localhost:5001/WorksOn/Task_WorksOn?User_ID=${this.User.User_ID}&Task_Card_ID=${e}&Worker_ID=${s}`;f.delete(r).then(function(a){d.getProject(),d.snackbar_msg=a.data.response,d.snackbar=!0}).catch(function(a){console.log(a),d.snackbar_msg=a.response.data,d.snackbar=!0})},delete_Todo(s){let e=this,d=`http://localhost:5001/Todo?User_ID=${this.User.User_ID}&Todo_ID=${s}`;f.delete(d).then(function(r){e.getProject(),e.snackbar_msg=r.data.response,e.snackbar=!0}).catch(function(r){console.log(r),e.snackbar_msg=r.response.data,e.snackbar=!0})},delete_Comment(s,e){let d=this,r=`http://localhost:5001/Comment?User_ID=${this.User.User_ID}&Commenter_ID=${s}&Comment_ID=${e}`;f.delete(r).then(function(a){d.getProject(),d.snackbar_msg=a.data.response,d.snackbar=!0}).catch(function(a){console.log(a),d.snackbar_msg=a.response.data,d.snackbar=!0})},edit_Task_List(s={},e=""){this.edit_target=e,s.Task_List_ID===this.cache.Task_List_item.Task_List_ID?this.clearCache():(this.cache.Task_List_item.Task_List_ID=s.Task_List_ID,this.cache.Task_List_item[`${e}`]=s[`${e}`])},edit_Task_Card(s={},e=""){this.edit_target=e,s.Task_Card_ID===this.cache.Task_Card_item.Task_Card_ID?this.clearCache():(this.cache.Task_Card_item.Task_Card_ID=s.Task_Card_ID,this.cache.Task_Card_item[`${e}`]=s[`${e}`])},add_Project_WorksOn(){let s=this,e=`http://localhost:5001/WorksOn/Project_WorksOn?User_ID=${this.User.User_ID}`,d={Project_ID:this.$route.query.Project_ID,User_Mail:this.cache.WorksOn_Email};f.post(e,d).then(function(r){s.getProject(),s.snackbar_msg=r.data.response,s.snackbar=!0}).catch(function(r){console.log(r),s.snackbar_msg=r.response.data,s.snackbar=!0})},add_Comment(s){let e=this,d=`http://localhost:5001/Comment?User_ID=${this.User.User_ID}`,r=this.cache.Comment_item;r.Commenter_ID=this.User.User_ID,r.Comment_ID=Date.now(),r.Commenter_Name=this.User.User_Name,r.Task_Card_ID=s,f.post(d,r).then(function(a){e.getProject(),e.snackbar_msg=a.data.response,e.snackbar=!0}).catch(function(a){console.log(a),e.snackbar_msg=a.response.data,e.snackbar=!0})},add_Task_WorksOn(s){let e=this,d=`http://localhost:5001/WorksOn/Task_WorksOn?User_ID=${this.User.User_ID}`,r=[];for(let o=0;o<this.cache.WorksOn_list.length;o++)r.push(this.cache.WorksOn_list[o].User_ID);let a={Task_Card_ID:s,User_ID_List:r};f.post(d,a).then(function(o){e.getProject(),e.snackbar_msg=o.data.response,e.snackbar=!0}).catch(function(o){console.log(o),e.snackbar_msg=o.response.data,e.snackbar=!0})},add_Todo(s){let e=this,d=`http://localhost:5001/Todo?User_ID=${this.User.User_ID}`,r={Task_Card_ID:s,Todo_ID:Date.now(),Todo_Text:this.cache.Todo_item.Todo_Text};f.post(d,r).then(function(a){e.getProject(),e.snackbar_msg=a.data.response,e.snackbar=!0}).catch(function(a){console.log(a),e.snackbar_msg=a.response.data,e.snackbar=!0})}},mounted(){(async()=>(await this.checkAuth(),await this.getProject(),await this.set_dialog_status()))()}},ie={class:"pa-5 task-container overflow-x-auto"},ue={class:"mb-2"},ke=["onDblclick"],me={class:"py-2"},Te={class:"d-flex justify-space-between align-center"},Ce={class:"w-100"},he=["onDblclick"],pe={key:0,class:"w-100"},fe={class:"d-flex align-center justify-end"},ge=["onDblclick"],ve={class:"pa-4 d-flex align-center justify-end"},be={class:"d-flex align-center w-75"},De=["onDblclick"],Ie=i("h4",null,"任務描述",-1),Ue={key:0,class:"w-100"},xe={class:"d-flex align-center justify-end"},ye=["onDblclick"],Le=i("br",null,null,-1),je=i("h4",null,"任務成員",-1),we=i("br",null,null,-1),Pe=i("h4",null,"待辦清單",-1),Ve={class:"mx-4 text-info-darken-2"},Oe={class:"mx-4 text-success-darken-2"},We={class:"d-flex align-center"},Ne=i("br",null,null,-1),Se=i("h4",null,"留言區",-1),ze={class:"d-flex align-center"},Ae=i("br",null,null,-1),Ee=i("h4",null,"時間設定",-1),Ke={class:"d-flex align-center mb-5"},qe=["value","onChange"],Be={class:"d-flex align-center mb-3"},Me=["value","onChange"],Fe=i("span",{class:"text-h5"},"新增任務卡",-1),Je=i("span",{class:"text-h5"},"新增任務列表",-1),Ge=i("span",{class:"text-h5"},"成員列表",-1);function He(s,e,d,r,a,o){const g=m("v-chip"),T=m("v-btn"),F=m("v-card-item"),Y=m("v-sheet"),j=m("v-spacer"),P=m("v-card-title"),E=m("v-textarea"),J=m("v-tooltip"),D=m("v-divider"),V=m("v-list-item"),U=m("v-col"),b=m("v-row"),Z=m("v-autocomplete"),$=m("v-expansion-panel-text"),ee=m("v-expansion-panel"),te=m("v-expansion-panels"),G=m("v-icon"),H=m("v-fade-transition"),O=m("v-text-field"),ae=m("v-list-item-action"),se=m("v-slide-y-transition"),y=m("v-card"),N=m("v-card-text"),S=m("v-card-actions"),z=m("v-dialog"),K=m("v-container"),le=m("v-snackbar"),_e=m("AppWrapper");return u(),h(_e,null,{default:l(()=>[i("div",ie,[i("h2",ue,v(this.Project.Project_Name),1),(u(!0),p(L,null,w(a.Project.Task_List,c=>(u(),h(y,{key:c.Task_List_ID,class:"mr-5 task-card",color:"#36393f",theme:"dark",variant:"flat"},{default:l(()=>[t(Y,{color:"#202225"},{default:l(()=>[t(F,null,{prepend:l(()=>[c.Task_List_Status?(u(),h(g,{key:0,class:"bg-green",link:"",onClick:n=>o.update_Task_List(s.event="",s.put_data={Task_List_ID:c.Task_List_ID,Task_List_Status:!c.Task_List_Status})},{default:l(()=>[k("進行中 ")]),_:2},1032,["onClick"])):(u(),h(g,{key:1,class:"bg-grey",link:"",onClick:n=>o.update_Task_List(s.event="",s.put_data={Task_List_ID:c.Task_List_ID,Task_List_Status:!c.Task_List_Status})},{default:l(()=>[k("已完成")]),_:2},1032,["onClick"]))]),append:l(()=>[t(T,{icon:"$edit",size:"small",variant:"text",onClick:n=>o.edit_Task_List(c,s.target="Task_List_Name")},null,8,["onClick"]),t(T,{icon:"$close",size:"small",variant:"text",onClick:n=>o.delete_Task_List(c.Task_List_ID)},null,8,["onClick"])]),default:l(()=>[c.Task_List_ID===a.cache.Task_List_item.Task_List_ID&&a.edit_target==="Task_List_Name"?q((u(),p("input",{key:0,type:"text",class:"pl-1 w-100 bg-grey-lighten-5","onUpdate:modelValue":e[0]||(e[0]=n=>a.cache.Task_List_item.Task_List_Name=n),onKeyup:[e[1]||(e[1]=I(n=>o.edit_Task_List(),["esc"])),e[3]||(e[3]=I(n=>o.update_Task_List(n,s.put_data=a.cache.Task_List_item),["enter"]))],onBlur:e[2]||(e[2]=n=>o.edit_Task_List())},null,544)),[[B,a.cache.Task_List_item.Task_List_Name]]):(u(),p("h4",{key:1,onDblclick:n=>o.edit_Task_List(c,s.target="Task_List_Name")},v(c.Task_List_Name),41,ke))]),_:2},1024)]),_:2},1024),(u(!0),p(L,null,w(c.Task_Card,n=>(u(),h(y,{key:n.Task_Card_ID,class:"ma-4",color:"#2f3136",rounded:"lg",variant:"flat"},{default:l(()=>[t(F,null,{default:l(()=>[t(P,{class:"text-body-2 d-flex align-center mb-2"},{default:l(()=>[i("div",null,[n.Task_Card_Status?(u(),h(g,{key:0,class:"mr-3 bg-green",link:"",onClick:_=>o.update_Task_Card(s.event="",s.put_data={Task_Card_ID:n.Task_Card_ID,Task_Card_Status:!n.Task_Card_Status})},{default:l(()=>[k("進行中")]),_:2},1032,["onClick"])):(u(),h(g,{key:1,class:"mr-3 bg-grey",link:"",onClick:_=>o.update_Task_Card(s.event="",s.put_data={Task_Card_ID:n.Task_Card_ID,Task_Card_Status:!n.Task_Card_Status})},{default:l(()=>[k("已完成")]),_:2},1032,["onClick"]))]),t(j),i("div",null,[t(g,{class:"ms-2 text-medium-emphasis",color:"grey-darken-4","prepend-icon":"mdi-account-multiple",size:"small",text:n.Task_WorksOn.length.toString(),variant:"flat"},null,8,["text"])])]),_:2},1024),i("div",me,[i("div",Te,[i("div",Ce,[n.Task_Card_ID===a.cache.Task_Card_item.Task_Card_ID&&a.edit_target==="Task_Card_Name"?q((u(),p("input",{key:0,type:"text",class:"pl-1 w-100 bg-grey-lighten-5","onUpdate:modelValue":e[4]||(e[4]=_=>a.cache.Task_Card_item.Task_Card_Name=_),onKeyup:[e[5]||(e[5]=I(_=>o.edit_Task_Card(),["esc"])),e[7]||(e[7]=I(_=>o.update_Task_Card(_,s.put_data=a.cache.Task_Card_item),["enter"]))],onBlur:e[6]||(e[6]=_=>o.edit_Task_Card())},null,544)),[[B,a.cache.Task_Card_item.Task_Card_Name]]):(u(),p("h4",{key:1,class:"text-h6",onDblclick:_=>o.edit_Task_Card(n,s.target="Task_Card_Name")},v(n.Task_Card_Name),41,he))]),t(T,{icon:"$edit",size:"small",variant:"text",onClick:_=>o.edit_Task_Card(n,s.target="Task_Card_Name")},null,8,["onClick"])]),i("div",{class:M(["d-flex justify-space-between mb-3",{"align-center":n.Task_Card_ID!==a.cache.Task_Card_item.Task_Card_ID||a.edit_target!=="Task_Card_Text"}])},[n.Task_Card_ID===a.cache.Task_Card_item.Task_Card_ID&&a.edit_target==="Task_Card_Text"?(u(),p("div",pe,[t(E,{modelValue:a.cache.Task_Card_item.Task_Card_Text,"onUpdate:modelValue":e[8]||(e[8]=_=>a.cache.Task_Card_item.Task_Card_Text=_),"model-value":a.cache.Task_Card_item.Task_Card_Text,onKeyup:e[9]||(e[9]=I(_=>o.edit_Task_Card(),["esc"]))},null,8,["modelValue","model-value"]),i("div",fe,[t(T,{class:"mr-3",color:"#5865f2",onClick:e[10]||(e[10]=_=>o.update_Task_Card(_,s.put_data=a.cache.Task_Card_item))},{default:l(()=>[k("儲存")]),_:1})])])):(u(),p("p",{key:1,class:"font-weight-light text-medium-emphasis task_card_text w-100",onDblclick:_=>o.edit_Task_Card(n,s.target="Task_Card_Text")},v(n.Task_Card_Text),41,ge)),t(T,{icon:"$edit",size:"small",variant:"text",onClick:_=>o.edit_Task_Card(n,s.target="Task_Card_Text")},null,8,["onClick"])],2),i("div",null,[t(J,{text:n.Task_Card_StartTime,location:"bottom"},{activator:l(({props:_})=>[t(g,x(_,{class:"mr-3"}),{default:l(()=>[k(" 開始時間 ")]),_:2},1040)]),_:2},1032,["text"]),t(J,{text:n.Task_Card_EndTime,location:"bottom"},{activator:l(({props:_})=>[t(g,x(_,{class:"mr-3"}),{default:l(()=>[k(" 截止時間 ")]),_:2},1040)]),_:2},1032,["text"])])])]),_:2},1024),t(D),i("div",ve,[t(z,{modelValue:a.checkCard_dialog[n.Task_Card_ID],"onUpdate:modelValue":_=>a.checkCard_dialog[n.Task_Card_ID]=_,persistent:"",width:"100%"},{activator:l(({props:_})=>[t(T,x(_,{class:"mr-3 text-none",color:"#4f545c",variant:"flat"}),{default:l(()=>[k(" 查看 ")]),_:2},1040)]),default:l(()=>[t(y,{class:"pa-3"},{default:l(()=>[t(P,{class:"d-flex align-center justify-space-between"},{default:l(()=>[i("div",be,[i("div",null,[n.Task_Card_Status?(u(),h(g,{key:0,class:"mr-3 bg-green",onClick:_=>o.update_Task_Card(s.event="",s.put_data={Task_Card_ID:n.Task_Card_ID,Task_Card_Status:!n.Task_Card_Status}),link:""},{default:l(()=>[k("進行中")]),_:2},1032,["onClick"])):(u(),h(g,{key:1,class:"mr-3 bg-grey",link:"",onClick:_=>o.update_Task_Card(s.event="",s.put_data={Task_Card_ID:n.Task_Card_ID,Task_Card_Status:!n.Task_Card_Status})},{default:l(()=>[k("已完成")]),_:2},1032,["onClick"]))]),n.Task_Card_ID===a.cache.Task_Card_item.Task_Card_ID&&a.edit_target==="Task_Card_Name"?q((u(),p("input",{key:0,type:"text",class:"pl-1 bg-grey-lighten-5 w-100","onUpdate:modelValue":e[11]||(e[11]=_=>a.cache.Task_Card_item.Task_Card_Name=_),onBlur:e[12]||(e[12]=_=>o.edit_Task_Card()),onKeyup:e[13]||(e[13]=I(_=>o.update_Task_Card(_,s.put_data=a.cache.Task_Card_item),["enter"]))},null,544)),[[B,a.cache.Task_Card_item.Task_Card_Name]]):(u(),p("h4",{key:1,class:"text-h5",onDblclick:_=>o.edit_Task_Card(n,s.target="Task_Card_Name")},v(n.Task_Card_Name),41,De)),t(T,{icon:"$edit",size:"small",variant:"text",onClick:_=>o.edit_Task_Card(n,s.target="Task_Card_Name")},null,8,["onClick"])]),t(T,{icon:"$close",size:"small",variant:"text",onClick:_=>a.checkCard_dialog[n.Task_Card_ID]=!1},null,8,["onClick"])]),_:2},1024),t(N,null,{default:l(()=>[i("div",null,[Ie,t(D,{class:"mb-3"}),i("div",{class:M(["d-flex justify-space-between mb-3",{"align-center":n.Task_Card_ID!==a.cache.Task_Card_item.Task_Card_ID||a.edit_target!=="Task_Card_Text"}])},[n.Task_Card_ID===a.cache.Task_Card_item.Task_Card_ID&&a.edit_target==="Task_Card_Text"?(u(),p("div",Ue,[t(E,{modelValue:a.cache.Task_Card_item.Task_Card_Text,"onUpdate:modelValue":e[14]||(e[14]=_=>a.cache.Task_Card_item.Task_Card_Text=_),"model-value":a.cache.Task_Card_item.Task_Card_Text},null,8,["modelValue","model-value"]),i("div",xe,[t(T,{class:"mr-3",color:"#5865f2",onClick:e[15]||(e[15]=_=>o.update_Task_Card(_,s.put_data=a.cache.Task_Card_item))},{default:l(()=>[k("儲存")]),_:1})])])):(u(),p("p",{key:1,class:"font-weight-light text-medium-emphasis task_card_text w-100",onDblclick:_=>o.edit_Task_Card(n,s.target="Task_Card_Text")},v(n.Task_Card_Text),41,ye)),t(T,{icon:"$edit",size:"small",variant:"text",onClick:_=>o.edit_Task_Card(n,s.target="Task_Card_Text")},null,8,["onClick"])],2),Le,je,t(D,{class:"mb-3"}),t(te,null,{default:l(()=>[t(ee,{title:"查看名單"},{default:l(()=>[t($,null,{default:l(()=>[t(b,null,{default:l(()=>[(u(!0),p(L,null,w(n.Task_WorksOn,_=>(u(),h(U,{cols:"12",class:"d-flex align-center justify-space-between"},{default:l(()=>[t(V,{"prepend-avatar":_.User_Avatar,title:_.User_Name,subtitle:_.User_Mail},null,8,["prepend-avatar","title","subtitle"]),t(T,{icon:"$close",size:"small",onClick:C=>o.delete_Task_WorksOn(_.User_ID,n.Task_Card_ID),variant:"text"},null,8,["onClick"])]),_:2},1024))),256))]),_:2},1024),t(b,null,{default:l(()=>[t(U,{cols:"12"},{default:l(()=>[t(Z,{modelValue:a.cache.WorksOn_list,"onUpdate:modelValue":e[16]||(e[16]=_=>a.cache.WorksOn_list=_),items:o.filter_Project_WorksOn(n.Task_WorksOn),chips:"","closable-chips":"",color:"blue-grey-lighten-2","item-title":"name","item-value":"name",label:"Select",multiple:""},{chip:l(({props:_,item:C})=>[t(g,x(_,{"prepend-avatar":C.raw.User_Avatar,text:C.raw.User_Name}),null,16,["prepend-avatar","text"])]),item:l(({props:_,item:C})=>{var W,Q,R;return[t(V,x(_,{"prepend-avatar":(W=C==null?void 0:C.raw)==null?void 0:W.User_Avatar,title:(Q=C==null?void 0:C.raw)==null?void 0:Q.User_Name,subtitle:(R=C==null?void 0:C.raw)==null?void 0:R.User_Mail}),null,16,["prepend-avatar","title","subtitle"])]}),_:2},1032,["modelValue","items"])]),_:2},1024)]),_:2},1024),t(b,null,{default:l(()=>[t(U,null,{default:l(()=>[t(T,{class:"float-right text-none text-subtitle-1",onClick:_=>o.add_Task_WorksOn(n.Task_Card_ID),color:"#5865f2",variant:"flat"},{default:l(()=>[k("新增協作者")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),we,Pe,t(D,{class:"mb-3"}),i("div",null,[t(O,{modelValue:a.cache.Todo_item.Todo_Text,"onUpdate:modelValue":e[17]||(e[17]=_=>a.cache.Todo_item.Todo_Text=_),label:"請輸入待辦事項",variant:"solo",onKeydown:I(_=>o.add_Todo(n.Task_Card_ID),["enter"])},{append:l(()=>[t(H,null,{default:l(()=>[a.cache.Todo_item.Todo_Text?(u(),h(G,{key:0,onClick:_=>o.add_Todo(n.Task_Card_ID)},{default:l(()=>[k(" mdi-plus-circle ")]),_:2},1032,["onClick"])):A("",!0)]),_:2},1024)]),_:2},1032,["modelValue","onKeydown"]),t(b,{class:"my-1",align:"center"},{default:l(()=>[i("strong",Ve," 進行中: "+v(o.remainingTasks(n.Todo)),1),t(D,{vertical:""}),i("strong",Oe," 已完成: "+v(o.completedTasks(n.Todo)),1),t(j)]),_:2},1024),t(D,{class:"mb-4"}),n.Todo.length>0?(u(),h(y,{key:0},{default:l(()=>[t(se,{class:"py-0",group:"",tag:"v-list"},{default:l(()=>[(u(!0),p(L,null,w(n.Todo,(_,C)=>(u(),p(L,{key:`${C}-${_.Todo_Text}`},[C!==0?(u(),h(D,{key:`${C}-divider`})):A("",!0),t(V,null,{default:l(()=>[t(ae,{class:"d-flex align-center justify-space-between py-2"},{default:l(()=>[i("div",We,[_.Todo_Status?(u(),h(g,{key:0,onClick:W=>o.update_Todo(s.put_data={Todo_ID:_.Todo_ID,Todo_Status:!_.Todo_Status}),class:"mr-3 bg-green",link:""},{default:l(()=>[k("進行中")]),_:2},1032,["onClick"])):(u(),h(g,{key:1,onClick:W=>o.update_Todo(s.put_data={Todo_ID:_.Todo_ID,Todo_Status:!_.Todo_Status}),class:"mr-3 bg-grey",link:""},{default:l(()=>[k("已完成")]),_:2},1032,["onClick"])),i("p",{class:M(_.Todo_Status&&"text-success"||"text-grey")},v(_.Todo_Text),3)]),t(T,{density:"compact",icon:"mdi-close",onClick:W=>o.delete_Todo(_.Todo_ID),class:"mr-3"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)],64))),128))]),_:2},1024)]),_:2},1024)):A("",!0)]),Ne,Se,t(D,{class:"mb-3"}),t(O,{modelValue:a.cache.Comment_item.Comment_Text,"onUpdate:modelValue":e[18]||(e[18]=_=>a.cache.Comment_item.Comment_Text=_),label:"請輸入留言",variant:"solo",onKeydown:I(_=>o.add_Comment(n.Task_Card_ID),["enter"])},{append:l(()=>[t(H,null,{default:l(()=>[a.cache.Comment_item.Comment_Text?(u(),h(G,{key:0,onClick:_=>o.add_Comment(n.Task_Card_ID)},{default:l(()=>[k(" mdi-plus-circle ")]),_:2},1032,["onClick"])):A("",!0)]),_:2},1024)]),_:2},1032,["modelValue","onKeydown"]),t(b,null,{default:l(()=>[(u(!0),p(L,null,w(n.Comment,_=>(u(),h(U,{cols:"12",class:"d-flex align-center justify-space-between"},{default:l(()=>[i("div",ze,[t(V,{"prepend-avatar":_.Commenter_Avatar,title:_.Commenter_Name,subtitle:_.Commenter_Mail,class:"mr-3"},null,8,["prepend-avatar","title","subtitle"]),i("p",null,v(_.Comment_Text),1)]),t(T,{icon:"$close",size:"small",variant:"text",onClick:C=>o.delete_Comment(_.Commenter_ID,_.Comment_ID)},null,8,["onClick"])]),_:2},1024))),256))]),_:2},1024),Ae,Ee,t(D,{class:"mb-3"}),i("div",Ke,[i("div",null,[t(g,{class:"mr-3"},{default:l(()=>[k(" 開始時間 ")]),_:1})]),i("input",{type:"date",value:n.Task_Card_StartTime,onChange:_=>o.update_Task_Card(s.event=_,s.put_data={Task_Card_ID:n.Task_Card_ID,Task_Card_StartTime:_.currentTarget.value})},null,40,qe)]),i("div",Be,[i("div",null,[t(g,{class:"mr-3"},{default:l(()=>[k(" 截止時間 ")]),_:1})]),i("input",{type:"date",value:n.Task_Card_EndTime,onChange:_=>o.update_Task_Card(s.event=_,s.put_data={Task_Card_ID:n.Task_Card_ID,Task_Card_EndTime:_.currentTarget.value})},null,40,Me)])])]),_:2},1024),t(S,null,{default:l(()=>[t(j),t(T,{color:"blue-darken-1",variant:"text",onClick:_=>a.checkCard_dialog[n.Task_Card_ID]=!1},{default:l(()=>[k(" Close ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"]),t(T,{class:"text-none bg-red",variant:"flat",onClick:_=>o.delete_Task_Card(n.Task_Card_ID)},{default:l(()=>[k(" 刪除 ")]),_:2},1032,["onClick"])])]),_:2},1024))),128)),t(z,{modelValue:a.newCard_dialog[c.Task_List_ID],"onUpdate:modelValue":n=>a.newCard_dialog[c.Task_List_ID]=n,persistent:"",width:"50%"},{activator:l(({props:n})=>[t(T,x(n,{class:"text-none text-subtitle-1 ma-4",color:"#5865f2",variant:"flat"}),{default:l(()=>[k(" 新增任務卡 ")]),_:2},1040)]),default:l(()=>[t(y,null,{default:l(()=>[t(P,null,{default:l(()=>[Fe]),_:1}),t(N,null,{default:l(()=>[t(K,null,{default:l(()=>[t(b,null,{default:l(()=>[t(U,{cols:"12"},{default:l(()=>[t(O,{label:"任務標題",required:"",modelValue:a.cache.Task_Card_item.Task_Card_Name,"onUpdate:modelValue":e[19]||(e[19]=n=>a.cache.Task_Card_item.Task_Card_Name=n)},null,8,["modelValue"]),t(E,{label:"任務描述",required:"",modelValue:a.cache.Task_Card_item.Task_Card_Text,"onUpdate:modelValue":e[20]||(e[20]=n=>a.cache.Task_Card_item.Task_Card_Text=n)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(S,null,{default:l(()=>[t(j),t(T,{color:"blue-darken-1",variant:"text",onClick:n=>{a.newCard_dialog[c.Task_List_ID]=!1,o.clearCache()}},{default:l(()=>[k(" Close ")]),_:2},1032,["onClick"]),t(T,{color:"blue-darken-1",variant:"text",onClick:n=>{a.newCard_dialog[c.Task_List_ID]=!1,o.create_Task_Card(a.cache.Task_Card_item,c.Task_List_ID)}},{default:l(()=>[k(" Save ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024))),128)),t(z,{modelValue:a.newList_dialog,"onUpdate:modelValue":e[24]||(e[24]=c=>a.newList_dialog=c),persistent:"",width:"50%"},{activator:l(({props:c})=>[t(T,x(c,{size:"large",class:"mr-5 d-inline-block bg-black"}),{default:l(()=>[k("新增任務列表")]),_:2},1040)]),default:l(()=>[t(y,null,{default:l(()=>[t(P,null,{default:l(()=>[Je]),_:1}),t(N,null,{default:l(()=>[t(K,null,{default:l(()=>[t(b,null,{default:l(()=>[t(U,{cols:"12"},{default:l(()=>[t(O,{label:"輸入列表名稱",required:"",clearable:"",modelValue:a.cache.Task_List_item.Task_List_Name,"onUpdate:modelValue":e[21]||(e[21]=c=>a.cache.Task_List_item.Task_List_Name=c)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(S,null,{default:l(()=>[t(j),t(T,{color:"blue-darken-1",variant:"text",onClick:e[22]||(e[22]=c=>{a.newList_dialog=!1,o.clearCache()})},{default:l(()=>[k(" Close ")]),_:1}),t(T,{color:"blue-darken-1",variant:"text",onClick:e[23]||(e[23]=c=>{a.newList_dialog=!1,o.create_Task_List(a.cache.Task_List_item)})},{default:l(()=>[k(" Save ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(z,{modelValue:a.Project_WorksOn_dialog,"onUpdate:modelValue":e[28]||(e[28]=c=>a.Project_WorksOn_dialog=c),persistent:"",width:"50%"},{activator:l(({props:c})=>[t(T,x(c,{size:"large",class:"mr-5 d-inline-block bg-primary"}),{default:l(()=>[k("成員列表")]),_:2},1040)]),default:l(()=>[t(y,null,{default:l(()=>[t(P,null,{default:l(()=>[Ge]),_:1}),t(N,null,{default:l(()=>[t(K,null,{default:l(()=>[t(b,null,{default:l(()=>[t(U,{cols:"12"},{default:l(()=>[t(O,{label:"輸入信箱新增成員",required:"",clearable:"",modelValue:a.cache.WorksOn_Email,"onUpdate:modelValue":e[25]||(e[25]=c=>a.cache.WorksOn_Email=c),onKeyup:e[26]||(e[26]=I(c=>o.add_Project_WorksOn(),["enter"]))},null,8,["modelValue"]),t(b,null,{default:l(()=>[(u(!0),p(L,null,w(a.Project.Project_WorksOn,c=>(u(),h(U,{cols:"12",class:"d-flex align-center justify-space-between"},{default:l(()=>[t(V,{"prepend-avatar":c.User_Avatar,title:c.User_Name,subtitle:c.User_Mail},null,8,["prepend-avatar","title","subtitle"]),t(T,{icon:"$close",size:"small",variant:"text",onClick:n=>o.delete_Project_WorksOn(c.User_ID)},null,8,["onClick"])]),_:2},1024))),256))]),_:1})]),_:1})]),_:1}),t(b)]),_:1})]),_:1}),t(S,null,{default:l(()=>[t(j),t(T,{color:"blue-darken-1",variant:"text",onClick:e[27]||(e[27]=c=>a.Project_WorksOn_dialog=!1)},{default:l(()=>[k(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(le,{modelValue:a.snackbar,"onUpdate:modelValue":e[30]||(e[30]=c=>a.snackbar=c),timeout:"2000"},{actions:l(()=>[t(T,{color:"blue",variant:"text",onClick:e[29]||(e[29]=c=>a.snackbar=!1)},{default:l(()=>[k(" Close ")]),_:1})]),default:l(()=>[k(v(a.snackbar_msg)+" ",1)]),_:1},8,["modelValue"])])]),_:1})}const Re=ne(ce,[["render",He]]);export{Re as default};
