import{_ as S,a as U,r as t,o as q,c as A,b as a,w as s,F as I,d as D,m as $,e as _,t as E,f as i}from"./index-11db8e1a.js";const z={data:()=>({form:!1,User_Mail:null,User_Password:null,loading:!1,dialog:!1,cache:{User_ID:"",User_Name:"",User_Mail:"",User_Avatar:"",User_Password:""},snackbar_msg:"",snackbar:!1}),methods:{onSubmit(){this.form&&(this.loading=!0,setTimeout(()=>this.loading=!1,2e3))},required(e){return!!e||"Field is required"},clearCache(){let e={User_ID:"",User_Name:"",User_Mail:"",User_Avatar:"",User_Password:""};this.cache=JSON.parse(JSON.stringify(e))},signIn(){let e=this,l="http://localhost:5001/User?type=sign-in",c={User_Mail:this.User_Mail,User_Password:this.User_Password};U.post(l,c).then(r=>{console.log(r);let p=r.data.return_data;localStorage.setItem("User",JSON.stringify(p)),e.$router.push({path:"/home"})}).catch(r=>{console.log(r),e.snackbar_msg=r.response.data,e.snackbar=!0})},signUp(){let e=this,l="http://localhost:5001/User?type=sign-up";this.cache.User_ID=Date.now();let c=e.cache;U.post(l,c).then(r=>{e.clearCache(),e.snackbar_msg=r.data.response,e.dialog=!1,e.snackbar=!0}).catch(r=>{e.snackbar_msg=r.response.data,e.dialog=!1,e.snackbar=!0})}}},B=i("h2",{class:"text-center"},"登入頁面",-1),F=i("br",null,null,-1),J=i("strong",null,"登入",-1),O=i("br",null,null,-1),T=i("strong",null,"註冊",-1),j=i("span",{class:"text-h5"},"User Profile",-1);function L(e,l,c,r,p,n){const d=t("v-text-field"),m=t("v-btn"),g=t("v-card-title"),u=t("v-col"),b=t("v-img"),V=t("v-avatar"),f=t("v-row"),h=t("v-container"),k=t("v-card-text"),w=t("v-spacer"),y=t("v-card-actions"),v=t("v-card"),P=t("v-dialog"),C=t("v-form"),N=t("v-sheet"),M=t("v-snackbar");return q(),A(I,null,[a(f,{class:"d-flex justify-center"},{default:s(()=>[a(u,{class:"mt-5",cols:"12",md:"4"},{default:s(()=>[B,a(N,{rounded:""},{default:s(()=>[a(v,{class:"px-6 py-8"},{default:s(()=>[a(C,{modelValue:e.form,"onUpdate:modelValue":l[10]||(l[10]=o=>e.form=o),onSubmit:D(n.onSubmit,["prevent"])},{default:s(()=>[a(d,{modelValue:e.User_Mail,"onUpdate:modelValue":l[0]||(l[0]=o=>e.User_Mail=o),readonly:e.loading,rules:[n.required],class:"mb-2",clearable:"",label:"Email"},null,8,["modelValue","readonly","rules"]),a(d,{modelValue:e.User_Password,"onUpdate:modelValue":l[1]||(l[1]=o=>e.User_Password=o),readonly:e.loading,rules:[n.required],clearable:"",label:"Password",placeholder:"Enter your password",type:"password"},null,8,["modelValue","readonly","rules"]),F,a(m,{onClick:l[2]||(l[2]=o=>n.signIn()),disabled:!e.form,loading:e.loading,block:"",color:"success",size:"large",type:"submit",variant:"elevated"},{default:s(()=>[J]),_:1},8,["disabled","loading"]),O,a(P,{modelValue:e.dialog,"onUpdate:modelValue":l[9]||(l[9]=o=>e.dialog=o),persistent:"",width:"1024"},{activator:s(({props:o})=>[a(m,$({block:"",size:"large",color:"primary"},o),{default:s(()=>[T]),_:2},1040)]),default:s(()=>[a(v,null,{default:s(()=>[a(g,null,{default:s(()=>[j]),_:1}),a(k,null,{default:s(()=>[a(h,null,{default:s(()=>[a(f,null,{default:s(()=>[a(u,{cols:"12"},{default:s(()=>[a(d,{modelValue:e.cache.User_Name,"onUpdate:modelValue":l[3]||(l[3]=o=>e.cache.User_Name=o),label:"Name*",hint:"example of persistent helper text","persistent-hint":"",required:""},null,8,["modelValue"])]),_:1}),a(u,{cols:"12"},{default:s(()=>[a(d,{modelValue:e.cache.User_Mail,"onUpdate:modelValue":l[4]||(l[4]=o=>e.cache.User_Mail=o),label:"Email*",type:"email",required:""},null,8,["modelValue"])]),_:1}),a(u,{cols:"12"},{default:s(()=>[a(d,{modelValue:e.cache.User_Password,"onUpdate:modelValue":l[5]||(l[5]=o=>e.cache.User_Password=o),label:"Password*",type:"password",required:""},null,8,["modelValue"])]),_:1}),a(u,{cols:"12"},{default:s(()=>[a(d,{modelValue:e.cache.User_Avatar,"onUpdate:modelValue":l[6]||(l[6]=o=>e.cache.User_Avatar=o),label:"Avatar Url*",required:""},null,8,["modelValue"])]),_:1}),a(u,{cols:"12"},{default:s(()=>[a(V,{color:"grey",size:"150",rounded:"50"},{default:s(()=>[a(b,{cover:"",src:e.cache.User_Avatar},null,8,["src"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(y,null,{default:s(()=>[a(w),a(m,{color:"blue-darken-1",variant:"text",onClick:l[7]||(l[7]=o=>{e.dialog=!1,n.clearCache()})},{default:s(()=>[_(" Close ")]),_:1}),a(m,{color:"blue-darken-1",variant:"text",onClick:l[8]||(l[8]=o=>n.signUp())},{default:s(()=>[_(" Save ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1}),a(M,{modelValue:e.snackbar,"onUpdate:modelValue":l[12]||(l[12]=o=>e.snackbar=o),timeout:"2000"},{actions:s(()=>[a(m,{color:"blue",variant:"text",onClick:l[11]||(l[11]=o=>e.snackbar=!1)},{default:s(()=>[_(" Close ")]),_:1})]),default:s(()=>[_(E(e.snackbar_msg)+" ",1)]),_:1},8,["modelValue"])],64)}const H=S(z,[["render",L]]);export{H as default};
